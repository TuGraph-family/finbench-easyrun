FROM tugraph/tugraph-compile-centos7:latest

RUN mkdir /root/data && mkdir /root/ldbc

COPY download_datasets.sh /root/data/
RUN cd /root/data && bash download_datasets.sh

COPY deps/ldbc_finbench_driver /root/ldbc/
COPY deps/ldbc_finbench_transaction_impls /root/ldbc/

RUN cd /root/ldbc/ldbc_finbench_driver && mvn clean install && cd /root/ldbc/ldbc_finbench_transaction_impls/tugraph && mvn clean package